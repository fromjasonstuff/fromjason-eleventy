{% set plotRssPath =  directories.plotDir + plotInfo[plotID].name + directories.feedDir %}
 {% set mainRssPath = site.rssDir %}
 
 {% set RssFileTypeXml = "feed.xml" %}
 {% set RssFileTypeJson = "feed.json" %}      
 
 {% set plotRssXmlUrl = plotRssPath + RssFileTypeXml %}
 {% set plotRssJsonUrl = plotRssPath + RssFileTypeJson %}

 {% set mainRssXmlUrl = mainRssPath + RssFileTypeXml %}
 {% set mainRssJsonUrl = mainRssPath + RssFileTypeJson %}
 
 {% set plotTitle = plotInfo[plotID].name %}     
 {% set mainTitle = site.name %}
<!DOCTYPE html>
<html lang="{{ metadata.language }}">
  <head>
    <meta charset="utf-8">
    <title>{{ title }}</title>
    <!-- Two CSS file for now. outofversion.css is for style changes I make between template versions. -->
    <link rel="stylesheet" href="{{ settings.siteRoot }}/css/one.css">
    <link rel="stylesheet" href="{{ settings.siteRoot }}/css/outofversion.css">
    <!-- Netlify stuff -->
    <link rel="micropub" href="https://www.fromjason.xyz/.netlify/functions/micropub" />
    <!-- rel=me stuff -->
    <link rel="me" href="https://github.com/fromjasonstuff" />
    <link rel="me" href="https://mastodon.social/@fromjason" />
    <link rel="me" href="https://pixelriot.io/" />
    <!-- Microsub server (Apature) -->
    <link rel="microsub" href="https://aperture.p3k.io/microsub/905" />
    <!-- IndieAuth -->
    <link rel="authorization_endpoint" href="https://indieauth.com/auth" />
    <link rel="token_endpoint" href="https://tokens.indieauth.com/token" />
    <!-- Webmentions -->
    <link rel="webmention" href="https://webmention.io/www.fromjason.xyz/webmention" />
    <!-- Open graph stuff -->
    <meta property="og:site_name" content="from jason" />
    <meta property="og:type" content="{{ type or 'Digital Garden' }}" />
    <meta property="og:title" content="{{ title or plotInfo[plotID].name or site.name }}" />
    <meta property="og:description" content="{{ description or plotInfo[plotID].description or site.description }}" />
    <meta property="og:url" content="https://fromjason.xyz{{ page.url }}" />
    <meta property="og:updated_time" content="{{ page.date }}" />   
    <meta property="og:image" content="https://fromjason.xyz/img/{% if openGraph %}{{ openGraph }}{% else %}{{ sub }}{% endif %}" loading="lazy" alt="{{ graphicAlt }}" />
    <!-- Twitter meta that I'm sure will not work in the near future if not already because Elon is an idiot -->
    <meta property="twitter:title" content="{{ title or plotInfo[plotID].name or site.name }}" />
    <meta property="twitter:description" content="{{ description or plotInfo[plotID].description or site.description }}" />
    <meta property="twitter:image" content="https://fromjason.xyz/img/{% if openGraph %}{{ openGraph }}{% else %}{{ sub }}{% endif %}" loading="lazy" alt="{{ graphicAlt }}" />
    <meta name="twitter:card" content="https://fromjason.xyz/img/{% if openGraph %}{{ openGraph }}{% else %}{{ sub }}{% endif %}" loading="lazy" alt="{{ graphicAlt }}" />
    <!-- Other meta stuff I don't know how to categorize -->
    <meta name="generator" content="{{ eleventy.generator }}" />
    <meta name="description" content="{{ description or plotInfo[plotID].description or site.description }}" />
    <link rel="canonical" href="https://fromjason.xyz{{ page.url }}" />
    <meta content="width=device-width, initial-scale=1" name="viewport"> 
    <!-- RSS stuff. If the page doesn't have an rssDir key, it defaults to the notebook plot. -->
    <link rel="alternate" href="{% if plotID %}{{ plotRssXmlUrl }}{% else %}{{ mainRssXmlUrl }}{% endif %}" type="application/atom+xml" title="Feed for {{ plotTitle or mainTitle }}" />
    <link rel="alternate" href="{% if plotID %}{{ plotRssJsonUrl }}{% else %}{{ mainRssJsonUrl }}{% endif %}" type="application/json" title="Feed for {{ plotTitle or mainTitle }}" />
    <!-- Favicon and webclip -->
    <link href="{{ settings.siteRoot }}/img/favicon.png" rel="shortcut icon" type="image/x-icon">
    <link href="{{ settings.siteRoot }}/img/webclip.png" rel="re-icon">
    <link rel="apple-touch-icon" href="{{ settings.siteRoot }}/img/apple-touch-icon.png">
    <link rel="icon" sizes="196x196" href="{{ settings.siteRoot }}/img/apple-touch-icon.png">
	<!-- Javascript provided by Webflow that I have yet to test and figure out what it is. need to do that. -->
    <script type="text/javascript">
      !function (o, c) {
        var n = c.documentElement,
          t = " w-mod-";
        n.className += t + "js",
        ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch")
      }(window, document);
    </script>
  </head>
  <body class="{{ body }}">
    <div class="w-layout-blockcontainer container-650px container-height w-container">
      {{ content | safe }}
      <footer class="footer">
<script src="https://tinylytics.app/embed/Y-vHq7_yamFdt5wny55E.js?kudos" defer></script>
        <div class="_400w-vflex">
          <img src="{{ settings.siteRoot }}/img/element-finis.svg" loading="lazy" alt="Ornamentation with the word Finis in a banner." class="ft-img">
          <div class="copywrite">2086&copy;
            <em>(so I don&#x27;t forget to change the year)</em>
            From Jason <a href="{{ site.versionWriteUpUrl }}" title="About latest version of {{ site.name }}">{{ site.version }}</a></div>
          <div id="dedication" class="dedication">This site is dedicated to the old web, the
            <em>weird</em>
            web, the web that screamed in horror when summoned through a land line.</div>
          <a id="randomLink" href="#" class="randomlink">Don&#x27;t click here</a>
          <div class="w-embed w-script">
            <script>
              // Array of URLs
              var urls = [
                "/p/stories/s/oddities/irate-ivan/",
                "/p/stories/s/oddities/irate-ivan/",
                "/p/stories/s/oddities/shame-fish/",
                "/p/stories/s/oddities/shame-fish/",
                "/p/stories/s/oddities/that-look-lion/",
                "/p/stories/s/oddities/that-look-lion/",
                "/p/stories/s/oddities/yuck-leopard/",
                "/p/stories/s/oddities/yuck-leopard/",
                "/p/stories/s/oddities/drunk-baby/",
                "/p/stories/s/oddities/drunk-baby/",
                "/p/stories/s/oddities/photog-phil/"
              ];
              // Function to select a random URL and update the hyperlink
              function setRandomURL() {
                var randomIndex = Math.floor(Math.random() * urls.length);
                var randomURL = urls[randomIndex];
                document.getElementById("randomLink").href = randomURL;
              }
              // Call the function to set an initial random URL
              setRandomURL();
              // Add a click event to change the URL on each click
              document.getElementById("randomLink").addEventListener("click", function (event) {
                setRandomURL();
              });
            </script>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>
